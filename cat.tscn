[gd_scene load_steps=21 format=2]

[ext_resource path="res://WindGrass/siamese_cat_lowpoly.gltf" type="PackedScene" id=1]
[ext_resource path="res://move_cat.gd" type="Script" id=2]

[sub_resource type="SphereShape" id=19]
radius = 0.75

[sub_resource type="AnimationNodeAnimation" id=12]
animation = "Idle"

[sub_resource type="AnimationNodeBlendTree" id=14]
graph_offset = Vector2( -202, 73 )
nodes/Animation/node = SubResource( 12 )
nodes/Animation/position = Vector2( -20, 140 )
node_connections = [ "output", 0, "Animation" ]

[sub_resource type="AnimationNodeAnimation" id=36]
animation = "Walk"

[sub_resource type="AnimationNodeTimeScale" id=37]

[sub_resource type="AnimationNodeBlendTree" id=38]
nodes/Animation/node = SubResource( 36 )
nodes/Animation/position = Vector2( 273, 107 )
nodes/TimeScale/node = SubResource( 37 )
nodes/TimeScale/position = Vector2( 460, 100 )
nodes/output/position = Vector2( 640, 120 )
node_connections = [ "output", 0, "TimeScale", "TimeScale", 0, "Animation" ]

[sub_resource type="AnimationNodeAnimation" id=39]
animation = "Walk"

[sub_resource type="AnimationNodeTimeScale" id=40]

[sub_resource type="AnimationNodeBlendTree" id=41]
nodes/Animation/node = SubResource( 39 )
nodes/Animation/position = Vector2( 140, 100 )
nodes/TimeScale/node = SubResource( 40 )
nodes/TimeScale/position = Vector2( 360, 100 )
nodes/output/position = Vector2( 600, 120 )
node_connections = [ "output", 0, "TimeScale", "TimeScale", 0, "Animation" ]

[sub_resource type="AnimationNodeStateMachineTransition" id=42]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=43]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=25]
states/BlendTree/node = SubResource( 41 )
states/BlendTree/position = Vector2( 209, 209 )
"states/BlendTree 2/node" = SubResource( 38 )
"states/BlendTree 2/position" = Vector2( 445, 209 )
transitions = [ "BlendTree", "BlendTree 2", SubResource( 42 ), "BlendTree 2", "BlendTree", SubResource( 43 ) ]
start_node = "BlendTree"
graph_offset = Vector2( -220, 0 )

[sub_resource type="AnimationNodeStateMachineTransition" id=26]
advance_condition = "move"
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachineTransition" id=27]
advance_condition = "idle"
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachine" id=9]
states/Idle/node = SubResource( 14 )
states/Idle/position = Vector2( 211, 29 )
states/Move/node = SubResource( 25 )
states/Move/position = Vector2( 459, 39 )
transitions = [ "Idle", "Move", SubResource( 26 ), "Move", "Idle", SubResource( 27 ) ]
start_node = "Idle"
graph_offset = Vector2( -149, -123 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=34]

[sub_resource type="AnimationNodeStateMachinePlayback" id=35]

[sub_resource type="CapsuleShape" id=29]
radius = 1.6064
height = 1.57843

[node name="siamese_cat_lowpoly" type="KinematicBody" groups=["MOUNT"]]
transform = Transform( 1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, 0, 0, 0 )
collision_layer = 2
script = ExtResource( 2 )

[node name="arm" type="SpringArm" parent="."]
shape = SubResource( 19 )
spring_length = 8.0
margin = 0.5

[node name="Camera" type="Camera" parent="arm"]
transform = Transform( 0.666667, 0, 0, 0, 0.666667, 0, 0, 0, 0.666667, 0, 0, 0 )
current = true
far = 10000.0

[node name="mesh" type="Spatial" parent="."]

[node name="col_trans" type="RemoteTransform" parent="mesh"]

[node name="siamese_cat_lowpoly" parent="mesh" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -2.98, -0.004 )

[node name="rig" type="BoneAttachment" parent="mesh/siamese_cat_lowpoly/Armature/Skeleton" index="1"]
transform = Transform( -1, -3.46634e-09, -9.02038e-08, -8.97048e-08, -0.0619711, 0.998078, -8.06816e-09, 0.998078, 0.0619712, -2.16121e-09, -0.0774409, 2.09968 )
bone_name = "Ribcage"

[node name="mount" type="RemoteTransform" parent="mesh/siamese_cat_lowpoly/Armature/Skeleton/rig"]
transform = Transform( 1, -8.88178e-16, -1.74305e-14, -8.88178e-16, 1, 1.11759e-08, -2.12608e-14, -1.11759e-08, 1, -5.06697e-08, -0.0350307, 0.564188 )

[node name="state" type="AnimationTree" parent="."]
tree_root = SubResource( 9 )
anim_player = NodePath("../mesh/siamese_cat_lowpoly/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton:Hip")
parameters/playback = SubResource( 34 )
parameters/conditions/idle = false
parameters/conditions/move = false
parameters/Move/playback = SubResource( 35 )
parameters/Move/BlendTree/TimeScale/scale = 1.0
"parameters/Move/BlendTree 2/TimeScale/scale" = 1.0

[node name="mouse_control_stay_delay" type="Timer" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.3092, -0.0130033 )
shape = SubResource( 29 )

[editable path="mesh/siamese_cat_lowpoly"]
